

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>My Habit & Study Tracker</title>
<style>
  body {
    font-family: Arial, sans-serif;
    max-width: 600px;
    margin: auto;
    padding: 15px;
    background: #f0f4f8;
    color: #333;
  }
  h1 {
    text-align: center;
    color: #0077cc;
  }
  .habit-list {
    list-style: none;
    padding: 0;
  }
  .habit-list li {
    background: white;
    margin-bottom: 8px;
    padding: 10px 15px;
    border-radius: 6px;
    display: flex;
    align-items: center;
  }
  .habit-list label {
    flex-grow: 1;
    cursor: pointer;
  }
  input[type="checkbox"] {
    transform: scale(1.3);
    margin-right: 12px;
    cursor: pointer;
  }
  #progressBarContainer {
    background: #ddd;
    border-radius: 20px;
    overflow: hidden;
    margin: 15px 0;
  }
  #progressBar {
    height: 20px;
    background: #0077cc;
    width: 0%;
    transition: width 0.3s ease;
  }
  textarea {
    width: 100%;
    height: 100px;
    margin-top: 15px;
    border-radius: 6px;
    border: 1px solid #ccc;
    padding: 10px;
    resize: vertical;
    font-size: 16px;
  }
  button {
    background: #0077cc;
    color: white;
    border: none;
    padding: 10px 15px;
    font-size: 16px;
    margin-top: 10px;
    border-radius: 6px;
    cursor: pointer;
    width: 100%;
  }
  button:hover {
    background: #005fa3;
  }
  footer {
    text-align: center;
    margin-top: 30px;
    font-size: 14px;
    color: #666;
  }
</style>
</head>
<body>

<h1>My Habit & Study Tracker</h1>

<ul class="habit-list" id="habitList">
  <li><label><input type="checkbox" data-key="wakeUp" /> Wake up on time</label></li>
  <li><label><input type="checkbox" data-key="exercise" /> Do exercise</label></li>
  <li><label><input type="checkbox" data-key="drinkWater" /> Drink water</label></li>
  <li><label><input type="checkbox" data-key="study" /> Study</label></li>
</ul>

<div id="progressBarContainer">
  <div id="progressBar"></div>
</div>
<p id="progressText" style="text-align:center; font-weight:bold;">Progress: 0%</p>

<textarea id="dailyNotes" placeholder="Write your daily notes here..."></textarea>
<button id="saveNotesBtn">Save Notes</button>

<footer>
  Created by Your AI Assistant
</footer>

<script>
  const habits = ['wakeUp', 'exercise', 'drinkWater', 'study'];
  const habitList = document.getElementById('habitList');
  const progressBar = document.getElementById('progressBar');
  const progressText = document.getElementById('progressText');
  const notes = document.getElementById('dailyNotes');
  const saveNotesBtn = document.getElementById('saveNotesBtn');

  // Save and load habit status per day
  function getTodayKey() {
    const today = new Date();
    return today.toISOString().slice(0,10); // YYYY-MM-DD
  }

  function loadHabits() {
    const todayKey = getTodayKey();
    habits.forEach(habit => {
      const checked = localStorage.getItem(todayKey + '_' + habit) === 'true';
      const checkbox = document.querySelector(`input[data-key="${habit}"]`);
      if (checkbox) checkbox.checked = checked;
    });
    updateProgress();
  }

  function saveHabit(habit, value) {
    const todayKey = getTodayKey();
    localStorage.setItem(todayKey + '_' + habit, value);
  }

  function updateProgress() {
    let doneCount = 0;
    habits.forEach(habit => {
      const checked = document.querySelector(`input[data-key="${habit}"]`).checked;
      if (checked) doneCount++;
    });
    const percent = Math.round((doneCount / habits.length) * 100);
    progressBar.style.width = percent + '%';
    progressText.textContent = `Progress: ${percent}%`;
  }

  habitList.addEventListener('change', e => {
    if (e.target && e.target.matches('input[type="checkbox"]')) {
      const habit = e.target.getAttribute('data-key');
      saveHabit(habit, e.target.checked);
      updateProgress();
    }
  });

  // Save/load notes
  function loadNotes() {
    const todayKey = getTodayKey();
    const savedNotes = localStorage.getItem(todayKey + '_notes');
    if (savedNotes) notes.value = savedNotes;
  }

  saveNotesBtn.addEventListener('click', () => {
    const todayKey = getTodayKey();
    localStorage.setItem(todayKey + '_notes', notes.value);
    alert('Notes saved!');
  });

  // Auto-reset habits & notes at midnight
  function resetAtMidnight() {
    const now = new Date();
    const msToMidnight = new Date(now.getFullYear(), now.getMonth(), now.getDate() + 1).getTime() - now.getTime();
    setTimeout(() => {
      habits.forEach(habit => {
        localStorage.removeItem(getTodayKey() + '_' + habit);
      });
      localStorage.removeItem(getTodayKey() + '_notes');
      location.reload();
    }, msToMidnight + 1000);
  }

  // Initialize
  loadHabits();
  loadNotes();
  resetAtMidnight();
</script>

</body>
</html>